%! TEX root = ../mersenne.tex
\section{Experiments}\label{sec:experiments}
We perform experiments on fast implementations of Mersenne hashing (\Cref{alg:Mersenne}) and our Mersenne division algorithm (\Cref{alg:division-generalized}).

\vspace{2em}\todo{Insert hashing experiments here}

We tested \Cref{alg:division-generalized} against the state of the art modified Crandall's algorithm by Chung and Hasan (\Cref{alg:cch}), as well as the built in truncated division algorithm in the GNU MultiPrecision Library, GMP~\cite{granlund2010gnu}.

\begin{table}[H]
   \centering
   \begin{tabular}{ c c }
      \begin{tabular}{ r | r r r }
         $b$ & Crandall & \Cref{alg:division-generalized} & GMP \\
         \hline
         32 & 396 & \textbf   {138}  & 149\\
         64 & 381 &   \textbf {142}  & 161\\
         128 & 564 &  \textbf {157}  & 239\\
         256 & 433 &  \textbf {187}  & 632\\
         512 & 687 &  \textbf {291}  & 1215\\
         1024 & 885 & \textbf {358}  & 2802
      \end{tabular}
      \hspace{.5em}
      &
      \hspace{.5em}
      \begin{tabular}{ r | r r r }
         $b$ & Crandall & \Cref{alg:division-generalized} & GMP \\
         \hline
         32 & 438 & 172 & \textbf{125}\\
         64 & 422 & 172 & \textbf{141}\\
         128 & 578 &      \textbf{188} & 235\\
         256 & 454 &      \textbf{219} & 469\\
         512 & 703 &      \textbf{297} & 938\\
         1024 & 875 &     \textbf{391} & 2172
      \end{tabular}
   \end{tabular}
   \caption{Milliseconds for $10^7$ divisions of $2b$-bit numbers with $p=2^b-1$.
      The standard deviation is less than $\pm10$ms.
         On the left on Intel(R) Core(TM) i7-8850H @ 2.60GHz.
      On the right on Intel(R) Core(TM) i7-86650U @ 1.9GHz.
   }
   \label{tab:division-experiments}
\end{table}

The results in \Cref{tab:division-experiments} show that our method always outperforms the modified Crandall's algorithm, which itself outperforms GMP's division at larger bit-lengths.
At shorter bit-lengths it is mostly a toss-up between our method and GMP's.
We note that our code for this experiment is implemented entirely in GMP, which includes some overhead that could perhaps be avoided in an implementation closer to the metal.
